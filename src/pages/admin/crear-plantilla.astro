---
import AppLayout from "../../layouts/AppLayout.astro";
import TemplateCreator from "../../components/TemplateCreator.jsx";

const user = (Astro.locals as any).user;
if (!user || (user.rol || "").toLowerCase() !== "admin") {
  return Astro.redirect("/");
}
---

<AppLayout title="Creador de Plantillas">
  <div class="p-4 md:p-6">
    <div class="mb-4">
      <h1 class="text-2xl font-bold text-emerald-600 dark:text-emerald-300">
        Creador de Plantillas
      </h1>
      <p class="text-sm text-slate-600 dark:text-slate-400">
        Construye y env√≠a plantillas directamente al Graph API de WhatsApp
        Business.
      </p>
    </div>
    <TemplateCreator client:load />
  </div>
</AppLayout>
