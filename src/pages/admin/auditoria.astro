---
import AppLayout from '../../layouts/AppLayout.astro';
import AgentAudit from '../../components/AgentAudit.jsx';

const user = (Astro.locals as any).user;
if (!user || String(user.rol).toLowerCase() !== 'admin') {
  return Astro.redirect('/');
}
---

<AppLayout title="AuditorÃ­a de Agentes">
  <div class="p-4 space-y-4">
    <div class="flex items-center justify-between">
      <div>
        <h1 class="text-2xl font-bold">ğŸ“Š AuditorÃ­a de Agentes</h1>
        <p class="text-sm text-slate-400">Monitoreo en tiempo real de la actividad de los agentes</p>
      </div>
      <a
        href="/admin/asignacion"
        class="px-4 py-2 rounded bg-slate-800 hover:bg-slate-700 border border-slate-700 text-sm"
      >
        â† Volver a asignaciÃ³n
      </a>
    </div>

    <AgentAudit client:load />
  </div>
</AppLayout>
